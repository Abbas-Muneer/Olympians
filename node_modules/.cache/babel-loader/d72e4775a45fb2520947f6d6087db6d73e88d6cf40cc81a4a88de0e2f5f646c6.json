{"ast":null,"code":"import _classCallCheck from\"/Users/jaiyramananvijayaalayan/Documents/IIT 2nd Year/IIT L5 2nd SEM/SDGP/ScriptGenAI/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/jaiyramananvijayaalayan/Documents/IIT 2nd Year/IIT L5 2nd SEM/SDGP/ScriptGenAI/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/jaiyramananvijayaalayan/Documents/IIT 2nd Year/IIT L5 2nd SEM/SDGP/ScriptGenAI/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/jaiyramananvijayaalayan/Documents/IIT 2nd Year/IIT L5 2nd SEM/SDGP/ScriptGenAI/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import{Card,Button}from\"@material-tailwind/react\";import uploadIcon from\"../static/images/upload-icon.png\";import{initializeApp}from\"firebase/app\";import{getStorage}from\"firebase/storage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var firebaseConfig={apiKey:\"AIzaSyAtMg9AKj4zJ8kOgC5IfvPAmGj-H3COEnc\",authDomain:\"scriptgenai-fileupload.firebaseapp.com\",projectId:\"scriptgenai-fileupload\",storageBucket:\"scriptgenai-fileupload.appspot.com\",messagingSenderId:\"436136312576\",appId:\"1:436136312576:web:cfd9a8cf23913be5bc3de5\",measurementId:\"G-JF996FE3GB\"};// Initialize Firebase\ninitializeApp(firebaseConfig);var UploadCard=/*#__PURE__*/function(_React$Component){_inherits(UploadCard,_React$Component);var _super=_createSuper(UploadCard);function UploadCard(){var _this;_classCallCheck(this,UploadCard);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={file:null,errors:[],uploadState:null,progress:0};_this.fileInputRef=/*#__PURE__*/React.createRef();_this.addFile=function(event){var file=event.target.files[0];if(file){_this.setState({file:file});}};_this.handleUpload=function(){var file=_this.state.file;var storageRef=getStorage().ref();var fileRef=storageRef.child(\"pptx/\".concat(file.name));var task=fileRef.put(file);task.on(\"state_changed\",function(snapshot){var progress=snapshot.bytesTransferred/snapshot.totalBytes*100;_this.setState({progress:progress});},function(error){_this.setState({errors:_this.state.errors.concat(error)});},function(){task.snapshot.ref.getDownloadURL().then(function(downloadURL){_this.setState({uploadState:\"success\",downloadURL:downloadURL});});});};_this.openFilePicker=function(){_this.fileInputRef.current.click();};return _this;}_createClass(UploadCard,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(Card,{className:\"w-9/12 h-96 m-auto\",children:/*#__PURE__*/_jsxs(Card,{className:\"bg-lightPurple m-6 h-full\",children:[/*#__PURE__*/_jsx(\"img\",{src:uploadIcon,alt:\"\",className:\"w-24 m-auto\"}),this.state.file&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:this.state.file.name}),/*#__PURE__*/_jsx(\"progress\",{value:this.state.progress,max:\"200\"})]}),this.state.uploadState===\"success\"&&/*#__PURE__*/_jsx(\"p\",{children:\"File uploaded successfully!\"}),this.state.errors.length>0&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Errors: \",this.state.errors.join(\", \")]}),this.state.uploadState===\"uploading\"&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Upload Progress: \",this.state.uploadProgress,\"%\"]}),this.state.uploadState===\"complete\"&&/*#__PURE__*/_jsx(\"p\",{children:\"Upload Complete!\"}),/*#__PURE__*/_jsxs(Button,{variant:\"gradient\",color:\"deep-purple\",size:\"md\",className:\"mb-6 mx-10 rounded-full\",onClick:function onClick(){return _this2.uploadFile();},children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:this.addFile}),/*#__PURE__*/_jsx(\"span\",{children:\"Upload\"})]})]})});}}]);return UploadCard;}(React.Component);export default UploadCard;","map":{"version":3,"names":["React","Card","Button","uploadIcon","initializeApp","getStorage","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","UploadCard","state","file","errors","uploadState","progress","fileInputRef","createRef","addFile","event","target","files","setState","handleUpload","storageRef","ref","fileRef","child","name","task","put","on","snapshot","bytesTransferred","totalBytes","error","concat","getDownloadURL","then","downloadURL","openFilePicker","current","click","length","join","uploadProgress","uploadFile","Component"],"sources":["/Users/jaiyramananvijayaalayan/Documents/IIT 2nd Year/IIT L5 2nd SEM/SDGP/ScriptGenAI/src/components/UploadCard.jsx"],"sourcesContent":["import React from \"react\";\nimport {\n  Card,\n  Button\n} from \"@material-tailwind/react\";\nimport uploadIcon from \"../static/images/upload-icon.png\";\nimport { initializeApp} from \"firebase/app\";\nimport { getStorage } from \"firebase/storage\";\n\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAtMg9AKj4zJ8kOgC5IfvPAmGj-H3COEnc\",\n  authDomain: \"scriptgenai-fileupload.firebaseapp.com\",\n  projectId: \"scriptgenai-fileupload\",\n  storageBucket: \"scriptgenai-fileupload.appspot.com\",\n  messagingSenderId: \"436136312576\",\n  appId: \"1:436136312576:web:cfd9a8cf23913be5bc3de5\",\n  measurementId: \"G-JF996FE3GB\"\n};\n\n// Initialize Firebase\ninitializeApp(firebaseConfig);\n\nclass UploadCard extends React.Component {\n  state = {\n    file: null,\n    errors: [],\n    uploadState: null,\n    progress: 0\n  };\n\n  fileInputRef = React.createRef();\n\n  addFile = event => {\n    const file = event.target.files[0];\n    if (file) {\n      this.setState({ file });\n    }\n  };\n\n  handleUpload = () => {\n    const { file } = this.state;\n    const storageRef = getStorage().ref();\n    const fileRef = storageRef.child(`pptx/${file.name}`);\n    const task = fileRef.put(file);\n\n    task.on(\n      \"state_changed\",\n      snapshot => {\n        let progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n        this.setState({ progress });\n      },\n      error => {\n        this.setState({ errors: this.state.errors.concat(error) });\n      },\n      () => {\n        task.snapshot.ref.getDownloadURL().then(downloadURL => {\n          this.setState({ uploadState: \"success\", downloadURL });\n        });\n      }\n    );\n  };\n\n  openFilePicker = () => {\n    this.fileInputRef.current.click();\n  };\n\n  render() {\n    return (\n      <Card className=\"w-9/12 h-96 m-auto\">\n        <Card className=\"bg-lightPurple m-6 h-full\">\n          <img src={uploadIcon} alt=\"\" className=\"w-24 m-auto\" />\n          {this.state.file && (\n            <div>\n              <p>{this.state.file.name}</p>\n              <progress value={this.state.progress} max=\"200\" />\n            </div>\n          )}\n          {this.state.uploadState === \"success\" && (\n            <p>File uploaded successfully!</p>\n          )}\n          {this.state.errors.length > 0 && (\n            <p>Errors: {this.state.errors.join(\", \")}</p>\n          )}\n\n           {/* Render the upload progress if the state is set */}\n          {this.state.uploadState === \"uploading\" && (\n            <p>Upload Progress: {this.state.uploadProgress}%</p>\n          )\n          }\n\n            {/* Render a success message if the upload is complete */}\n          {this.state.uploadState === \"complete\" && (\n            <p>Upload Complete!</p>\n          )\n          }\n\n          <Button\n            variant=\"gradient\"\n            color=\"deep-purple\"\n            size=\"md\"\n            className=\"mb-6 mx-10 rounded-full\"\n            onClick={() => this.uploadFile()}\n          >\n            <input type=\"file\" onChange={this.addFile} />\n            <span>Upload</span>\n          </Button>\n        </Card>\n      </Card>\n    );\n  }\n}\n\nexport default UploadCard;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}