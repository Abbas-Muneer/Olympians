{"ast":null,"code":"var _jsxFileName = \"/Users/jaiyramananvijayaalayan/Documents/IIT 2nd Year/IIT L5 2nd SEM/SDGP/ScriptGenAI/src/components/UploadCard.jsx\";\nimport React from \"react\";\nimport { Card, Button } from \"@material-tailwind/react\";\nimport uploadIcon from \"../static/images/upload-icon.png\";\nimport { initializeApp } from \"firebase/app\";\nimport { getStorage } from \"firebase/storage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAtMg9AKj4zJ8kOgC5IfvPAmGj-H3COEnc\",\n  authDomain: \"scriptgenai-fileupload.firebaseapp.com\",\n  projectId: \"scriptgenai-fileupload\",\n  storageBucket: \"scriptgenai-fileupload.appspot.com\",\n  messagingSenderId: \"436136312576\",\n  appId: \"1:436136312576:web:cfd9a8cf23913be5bc3de5\",\n  measurementId: \"G-JF996FE3GB\"\n};\n\n// Initialize Firebase\ninitializeApp(firebaseConfig);\nclass UploadCard extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      file: null,\n      errors: [],\n      uploadState: null,\n      progress: 0\n    };\n    this.fileInputRef = /*#__PURE__*/React.createRef();\n    this.addFile = event => {\n      const file = event.target.files[0];\n      if (file) {\n        this.setState({\n          file\n        });\n      }\n    };\n    this.handleUpload = () => {\n      const {\n        file\n      } = this.state;\n      const storageRef = getStorage().ref();\n      const fileRef = storageRef.child(`pptx/${file.name}`);\n      const task = fileRef.put(file);\n      task.on(\"state_changed\", snapshot => {\n        let progress = snapshot.bytesTransferred / snapshot.totalBytes * 100;\n        this.setState({\n          progress\n        });\n      }, error => {\n        this.setState({\n          errors: this.state.errors.concat(error)\n        });\n      }, () => {\n        task.snapshot.ref.getDownloadURL().then(downloadURL => {\n          this.setState({\n            uploadState: \"success\",\n            downloadURL\n          });\n        });\n      });\n    };\n    this.openFilePicker = () => {\n      this.fileInputRef.current.click();\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(Card, {\n      className: \"w-9/12 h-96 m-auto\",\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        className: \"bg-lightPurple m-6 h-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: uploadIcon,\n          alt: \"\",\n          className: \"w-24 m-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), this.state.file && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: this.state.file.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"progress\", {\n            value: this.state.progress,\n            max: \"200\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), this.state.uploadState === \"success\" && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"File uploaded successfully!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this), this.state.errors.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Errors: \", this.state.errors.join(\", \")]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this), this.state.uploadState === \"uploading\" && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Upload Progress: \", this.state.uploadProgress, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this), this.state.uploadState === \"complete\" && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Upload Complete!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"gradient\",\n          color: \"deep-purple\",\n          size: \"md\",\n          className: \"mb-6 mx-10 rounded-full\",\n          onClick: () => this.uploadFile(),\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            onChange: this.addFile\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default UploadCard;","map":{"version":3,"names":["React","Card","Button","uploadIcon","initializeApp","getStorage","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","UploadCard","Component","state","file","errors","uploadState","progress","fileInputRef","createRef","addFile","event","target","files","setState","handleUpload","storageRef","ref","fileRef","child","name","task","put","on","snapshot","bytesTransferred","totalBytes","error","concat","getDownloadURL","then","downloadURL","openFilePicker","current","click","render","length","join","uploadProgress","uploadFile"],"sources":["/Users/jaiyramananvijayaalayan/Documents/IIT 2nd Year/IIT L5 2nd SEM/SDGP/ScriptGenAI/src/components/UploadCard.jsx"],"sourcesContent":["import React from \"react\";\nimport {\n  Card,\n  Button\n} from \"@material-tailwind/react\";\nimport uploadIcon from \"../static/images/upload-icon.png\";\nimport { initializeApp} from \"firebase/app\";\nimport { getStorage } from \"firebase/storage\";\n\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAtMg9AKj4zJ8kOgC5IfvPAmGj-H3COEnc\",\n  authDomain: \"scriptgenai-fileupload.firebaseapp.com\",\n  projectId: \"scriptgenai-fileupload\",\n  storageBucket: \"scriptgenai-fileupload.appspot.com\",\n  messagingSenderId: \"436136312576\",\n  appId: \"1:436136312576:web:cfd9a8cf23913be5bc3de5\",\n  measurementId: \"G-JF996FE3GB\"\n};\n\n// Initialize Firebase\ninitializeApp(firebaseConfig);\n\nclass UploadCard extends React.Component {\n  state = {\n    file: null,\n    errors: [],\n    uploadState: null,\n    progress: 0\n  };\n\n  fileInputRef = React.createRef();\n\n  addFile = event => {\n    const file = event.target.files[0];\n    if (file) {\n      this.setState({ file });\n    }\n  };\n\n  handleUpload = () => {\n    const { file } = this.state;\n    const storageRef = getStorage().ref();\n    const fileRef = storageRef.child(`pptx/${file.name}`);\n    const task = fileRef.put(file);\n\n    task.on(\n      \"state_changed\",\n      snapshot => {\n        let progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n        this.setState({ progress });\n      },\n      error => {\n        this.setState({ errors: this.state.errors.concat(error) });\n      },\n      () => {\n        task.snapshot.ref.getDownloadURL().then(downloadURL => {\n          this.setState({ uploadState: \"success\", downloadURL });\n        });\n      }\n    );\n  };\n\n  openFilePicker = () => {\n    this.fileInputRef.current.click();\n  };\n\n  render() {\n    return (\n      <Card className=\"w-9/12 h-96 m-auto\">\n        <Card className=\"bg-lightPurple m-6 h-full\">\n          <img src={uploadIcon} alt=\"\" className=\"w-24 m-auto\" />\n          {this.state.file && (\n            <div>\n              <p>{this.state.file.name}</p>\n              <progress value={this.state.progress} max=\"200\" />\n            </div>\n          )}\n          {this.state.uploadState === \"success\" && (\n            <p>File uploaded successfully!</p>\n          )}\n          {this.state.errors.length > 0 && (\n            <p>Errors: {this.state.errors.join(\", \")}</p>\n          )}\n\n           {/* Render the upload progress if the state is set */}\n          {this.state.uploadState === \"uploading\" && (\n            <p>Upload Progress: {this.state.uploadProgress}%</p>\n          )\n          }\n\n            {/* Render a success message if the upload is complete */}\n          {this.state.uploadState === \"complete\" && (\n            <p>Upload Complete!</p>\n          )\n          }\n\n          <Button\n            variant=\"gradient\"\n            color=\"deep-purple\"\n            size=\"md\"\n            className=\"mb-6 mx-10 rounded-full\"\n            onClick={() => this.uploadFile()}\n          >\n            <input type=\"file\" onChange={this.addFile} />\n            <span>Upload</span>\n          </Button>\n        </Card>\n      </Card>\n    );\n  }\n}\n\nexport default UploadCard;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}